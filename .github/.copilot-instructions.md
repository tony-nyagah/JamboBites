# JamboBites Development Instructions ✨

## Project Overview
JamboBites is a beautiful Kenyan cafe application that delivers an exceptional user experience across all platforms:
- **Backend**: Django REST API with premium performance
- **Web Frontend**: Nuxt.js application with stunning UI/UX using DaisyUI
- **Mobile App**: Kotlin Android application with native performance

*Mission: Create the most beautiful and user-friendly cafe experience in Kenya* 🇰🇪

## Technology Stack
- **Backend**: Django 4.2+, Django REST Framework, PostgreSQL, Redis (caching)
- **Web**: Nuxt 3 with TypeScript, Vue 3, Pinia, TailwindCSS, DaisyUI
- **Mobile**: Kotlin, Android Jetpack Compose, Material Design 3, Retrofit
- **UI Components**: DaisyUI for rapid, beautiful component development
- **Icons**: Iconify (mdi, heroicons, lucide)
- **Authentication**: JWT tokens with refresh mechanism
- **Deployment**: Docker containers, Nginx, GitHub Actions

## Design Philosophy ✨

### Beauty Standards
- **Clean & Modern**: Minimalist design with purposeful whitespace
- **Kenyan Identity**: Subtle cultural elements without being overwhelming
- **Accessibility First**: WCAG 2.1 AA compliance, keyboard navigation
- **Mobile-First**: Responsive design that works beautifully on all devices
- **Smooth Interactions**: Micro-animations and seamless transitions
- **Performance**: Fast loading times, optimized images, lazy loading
- **DaisyUI Aesthetic**: Leveraging DaisyUI's beautiful component design

### Color Palette (Kenyan-Inspired DaisyUI Theme)
```typescript
// tailwind.config.ts - DaisyUI custom theme
export default {
  daisyui: {
    themes: [
      {
        jambobites: {
          // Primary - Safari Sunset Orange
          "primary": "#f97316",
          "primary-focus": "#ea580c",
          "primary-content": "#ffffff",
          
          // Secondary - Acacia Green
          "secondary": "#22c55e",
          "secondary-focus": "#16a34a",
          "secondary-content": "#ffffff",
          
          // Accent - Kilimanjaro Blue
          "accent": "#3b82f6",
          "accent-focus": "#2563eb",
          "accent-content": "#ffffff",
          
          // Neutrals
          "neutral": "#2a323c",
          "neutral-focus": "#1e252e",
          "neutral-content": "#ffffff",
          
          // Base colors
          "base-100": "#ffffff",
          "base-200": "#f9fafb",
          "base-300": "#f3f4f6",
          "base-content": "#1f2937",
          
          // State colors
          "info": "#3abff8",
          "success": "#36d399",
          "warning": "#fbbd23",
          "error": "#f87272",
        },
      },
      "light",
      "dark",
    ],
    darkTheme: "dark",
    base: true,
    styled: true,
    utils: true,
    logs: false,
  },
}
```

## Code Style & Conventions

### General Excellence Standards
- **Performance First**: Every line of code should contribute to speed
- **Type Safety**: Comprehensive TypeScript usage across all platforms
- **Clean Architecture**: SOLID principles, dependency injection
- **Beautiful Code**: Self-documenting, elegant, maintainable
- **Testing**: 80%+ test coverage, TDD approach
- **Documentation**: Clear, helpful, up-to-date

### Django Backend (API Excellence)
- Use class-based views with DRF ViewSets
- Implement advanced caching strategies (Redis)
- Database query optimization (select_related, prefetch_related, indexes)
- Comprehensive error handling with user-friendly messages
- API versioning and backward compatibility
- Real-time features with Django Channels (WebSockets)
- Advanced permissions and role-based access

### Nuxt Frontend (Beautiful & Fast with DaisyUI)
- Use Nuxt 3 with TypeScript in strict mode
- Server-side rendering for optimal SEO and performance
- Composition API with `<script setup lang="ts">`
- TailwindCSS + DaisyUI for utility-first styling
- DaisyUI class-based components for rapid development
- Nuxt modules: `@pinia/nuxt`, `@nuxtjs/tailwindcss`, `@vueuse/nuxt`, `nuxt-icon`
- Image optimization with `@nuxt/image`
- Progressive Web App capabilities
- Component auto-imports for cleaner code

### DaisyUI Best Practices
- Use semantic HTML with DaisyUI classes
- Leverage DaisyUI's built-in components (btn, card, modal, drawer, etc.)
- Combine DaisyUI components with custom Tailwind utilities when needed
- Use DaisyUI's responsive modifiers consistently
- Implement smooth transitions with DaisyUI's built-in animation utilities
- Keep markup clean by using DaisyUI's utility classes
- Utilize DaisyUI's form components for consistent styling
- Take advantage of DaisyUI's theme system for dark mode

### Kotlin Mobile (Native Excellence)
- Jetpack Compose with Material Design 3
- MVVM architecture with Hilt dependency injection
- Retrofit with OkHttp for networking
- Room database for offline capabilities
- Coroutines for asynchronous operations
- Comprehensive error handling and retry mechanisms
- Beautiful animations and transitions

## Project Structure

### Backend (Django)
```
backend/
├── jambobites/              # Main Django project
│   ├── settings/           # Environment-specific settings
│   ├── urls.py
│   └── wsgi.py
├── apps/
│   ├── authentication/     # Custom user management & JWT
│   ├── cafes/             # Cafe management & profiles
│   ├── menu/              # Menu items & categories
│   ├── orders/            # Order management & tracking
│   ├── payments/          # Payment processing (Mpesa/Stripe)
│   ├── notifications/     # Push notifications & emails
│   └── analytics/         # Business analytics
├── core/                  # Shared utilities & base classes
├── static/               # Static files
├── media/                # User uploads
├── requirements/         # Environment-specific dependencies
├── docker/               # Docker configurations
└── docs/                 # API documentation
```

### Frontend (Nuxt + DaisyUI)
```
frontend/
├── components/           # Reusable Vue components
│   ├── ui/              # DaisyUI-based UI components
│   ├── layout/          # Layout components (header, footer, nav)
│   ├── menu/            # Menu-specific components
│   ├── orders/          # Order-related components
│   └── common/          # Common reusable components
├── pages/               # Nuxt pages (file-based routing)
│   ├── index.vue       # Home page
│   ├── menu/           # Menu browsing pages
│   ├── orders/         # Order management pages
│   └── auth/           # Authentication pages
├── layouts/             # Nuxt layouts
│   ├── default.vue     # Default layout
│   ├── admin.vue       # Admin dashboard layout
│   └── minimal.vue     # Minimal layout (auth pages)
├── middleware/          # Route middleware
├── plugins/             # Nuxt plugins
├── composables/         # Vue composables
│   ├── useMenu.ts      # Menu management
│   ├── useCart.ts      # Shopping cart
│   ├── useAuth.ts      # Authentication
│   └── useOrders.ts    # Order management
├── stores/              # Pinia stores
│   ├── auth.ts         # Authentication state
│   ├── cart.ts         # Shopping cart state
│   ├── menu.ts         # Menu state
│   └── orders.ts       # Orders state
├── types/               # TypeScript type definitions
│   ├── api.ts          # API response types
│   ├── models.ts       # Domain models
│   └── daisyui.ts      # DaisyUI component types
├── utils/               # Utility functions
│   ├── api.ts          # API client
│   ├── format.ts       # Formatting helpers
│   └── validation.ts   # Validation helpers
├── assets/              # Stylesheets, images
│   └── css/
│       └── main.css    # Global styles
├── public/              # Static assets
└── tests/               # Test files
```

### Mobile (Kotlin)
```
mobile/
├── app/src/main/
│   ├── java/com/jambobites/
│   │   ├── ui/
│   │   │   ├── theme/   # Material Design 3 theme
│   │   │   ├── components/ # Reusable Compose components
│   │   │   ├── screens/ # App screens
│   │   │   └── navigation/ # Navigation setup
│   │   ├── data/
│   │   │   ├── remote/  # API services
│   │   │   ├── local/   # Room database
│   │   │   └── repository/ # Repository implementations
│   │   ├── domain/
│   │   │   ├── model/   # Domain models
│   │   │   ├── repository/ # Repository interfaces
│   │   │   └── usecase/ # Business logic
│   │   └── di/          # Hilt dependency injection
│   └── res/             # Android resources
└── app/src/test/        # Unit tests
```

## Core Features & Beautiful UX

### User Experience Excellence
1. **Seamless Onboarding**: Beautiful welcome flow with Kenyan cultural elements
2. **Intuitive Navigation**: Clear information architecture with DaisyUI navbar/drawer
3. **Visual Hierarchy**: Perfect typography and spacing using DaisyUI utilities
4. **Loading States**: DaisyUI loading spinners and skeleton screens
5. **Error States**: DaisyUI alerts with helpful, friendly error messages
6. **Empty States**: Engaging illustrations with DaisyUI hero components

### User Types & Journeys
1. **Customers**: Discover → Browse → Order → Track → Enjoy
2. **Cafe Staff**: Receive → Prepare → Update → Complete
3. **Cafe Owners**: Analyze → Manage → Optimize → Grow

### Key Models (Beautiful Data Architecture)
```typescript
// types/models.ts - Core domain models

interface User {
  id: string
  email: string
  phone: string
  firstName: string
  lastName: string
  avatar?: string
  role: 'customer' | 'staff' | 'owner'
  preferences: UserPreferences
  createdAt: Date
  lastActive: Date
}

interface UserPreferences {
  theme: 'light' | 'dark' | 'auto'
  notifications: boolean
  language: 'en' | 'sw'
  favoriteCafes: string[]
}

interface Cafe {
  id: string
  name: string
  description: string
  coverImage: string
  logo: string
  location: Location
  operatingHours: OperatingHours[]
  rating: number
  reviewCount: number
  features: CafeFeature[]
  socialMedia: SocialMediaLinks
  isActive: boolean
  ownerId: string
}

interface Location {
  address: string
  city: string
  county: string
  coordinates: {
    latitude: number
    longitude: number
  }
}

interface MenuItem {
  id: string
  name: string
  description: string
  price: number
  originalPrice?: number // For discounts
  images: string[]
  category: MenuCategory
  tags: string[]
  nutritionInfo?: NutritionInfo
  allergens: string[]
  isAvailable: boolean
  prepTime: number // in minutes
  popularity: number
  cafeId: string
  createdAt: Date
  updatedAt: Date
}

interface MenuCategory {
  id: string
  name: string
  description?: string
  icon?: string
  sortOrder: number
}

interface Order {
  id: string
  orderNumber: string
  customerId: string
  customer: User
  cafeId: string
  cafe: Cafe
  items: OrderItem[]
  status: OrderStatus
  totalAmount: number
  discountAmount?: number
  taxAmount: number
  paymentMethod: PaymentMethod
  paymentStatus: PaymentStatus
  estimatedReadyTime: Date
  actualReadyTime?: Date
  specialInstructions?: string
  deliveryInfo?: DeliveryInfo
  createdAt: Date
  updatedAt: Date
}

interface OrderItem {
  id: string
  menuItem: MenuItem
  quantity: number
  unitPrice: number
  subtotal: number
  customizations?: string[]
  notes?: string
}

type OrderStatus = 'pending' | 'confirmed' | 'preparing' | 'ready' | 'completed' | 'cancelled'
type PaymentMethod = 'mpesa' | 'card' | 'cash'
type PaymentStatus = 'pending' | 'processing' | 'completed' | 'failed' | 'refunded'

interface DeliveryInfo {
  type: 'pickup' | 'delivery'
  address?: string
  phone: string
  notes?: string
}
```

### Order Status Flow (Beautiful Tracking)
```
🔄 PENDING     → Order received, awaiting confirmation
✅ CONFIRMED   → Order confirmed, added to queue  
👨‍🍳 PREPARING   → Chef is working on your order
🔔 READY       → Order ready for pickup/delivery
✨ COMPLETED   → Order fulfilled successfully
❌ CANCELLED   → Order cancelled (with reason)
```

## API Design Excellence

### Authentication & Security
- JWT access tokens (15min) + refresh tokens (7 days)
- Rate limiting with beautiful error responses
- Role-based permissions with granular control
- API key authentication for mobile apps
- CORS configuration for cross-origin requests

### Response Format (Consistent & Beautiful)
```typescript
// types/api.ts - API response types

interface ApiResponse<T> {
  success: boolean
  data: T
  message: string
  timestamp: string
  requestId: string
  errors?: ValidationErrors
  meta?: ResponseMeta
}

interface ValidationErrors {
  [field: string]: string[]
}

interface ResponseMeta {
  version: string
  processingTime: number
}

interface PaginatedResponse<T> {
  items: T[]
  pagination: {
    page: number
    perPage: number
    total: number
    totalPages: number
    hasNext: boolean
    hasPrevious: boolean
  }
}

interface ApiError {
  success: false
  error: {
    code: string
    message: string
    details?: Record<string, string[]>
    suggestion?: string
    documentationUrl?: string
  }
  requestId: string
  timestamp: string
}
```

## Kenyan Localization & Culture ✨

### Cultural Elements
- **Typography**: Clean, readable fonts with Swahili character support
- **Colors**: Safari sunset oranges, acacia greens, Kilimanjaro blues
- **Imagery**: Beautiful Kenyan landscapes, coffee culture, local ingredients
- **Language**: English primary, Swahili phrases for warmth ("Jambo!", "Asante!", "Karibu!")
- **Icons**: Use local cultural references where appropriate

### Local Business Features
- **Currency**: KES formatting (KSh 500)
- **Payments**: M-Pesa integration as primary payment method
- **Time Zones**: East Africa Time (UTC+3)
- **Business Hours**: Local business patterns and holidays
- **Phone Numbers**: Kenyan phone number formatting (+254...)

### Currency Formatting
```typescript
// utils/format.ts
export const formatCurrency = (amount: number): string => {
  const formatted = new Intl.NumberFormat('en-KE', {
    minimumFractionDigits: 0,
    maximumFractionDigits: 2
  }).format(amount)
  
  return `KSh ${formatted}`
}

// Usage: formatCurrency(1500) // "KSh 1,500"
```

### Phone Number Formatting
```typescript
// utils/format.ts
export const formatKenyanPhone = (phone: string): string => {
  const digits = phone.replace(/\D/g, '')
  
  if (digits.startsWith('254')) {
    return `+${digits.slice(0, 3)} ${digits.slice(3, 6)} ${digits.slice(6, 9)} ${digits.slice(9)}`
  } else if (digits.startsWith('0')) {
    return `${digits.slice(0, 4)} ${digits.slice(4, 7)} ${digits.slice(7)}`
  }
  
  return phone
}

export const validateKenyanPhone = (phone: string): boolean => {
  const digits = phone.replace(/\D/g, '')
  return /^(254[17]\d{8}|0[17]\d{8})$/.test(digits)
}
```

## Performance & Optimization ⚡

### Frontend Performance
- **Code Splitting**: Automatic route-based splitting with Nuxt
- **Image Optimization**: Use `@nuxt/image` with WebP format
- **Caching Strategy**: Service worker for offline capabilities
- **Bundle Analysis**: Regular bundle size monitoring
- **Core Web Vitals**: Target 90+ scores
- **DaisyUI Optimization**: PurgeCSS removes unused styles

### Backend Performance
- **Database Optimization**: Proper indexing, query optimization
- **Caching Layers**: Redis for sessions, API responses
- **Background Tasks**: Celery for emails, notifications
- **CDN Integration**: Static asset delivery
- **Monitoring**: APM with Sentry
- **API Response Times**: Target < 200ms

### Mobile Performance
- **Startup Time**: Optimize app launch
- **Memory Management**: Efficient bitmap handling
- **Network Optimization**: Request batching, offline-first
- **Battery Optimization**: Efficient background processing
- **APK Size**: ProGuard/R8 optimization

## Beautiful Animations & Interactions

### DaisyUI + Tailwind Animations
```css
/* assets/css/main.css */

.page-enter-active,
.page-leave-active {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.page-enter-from {
  opacity: 0;
  transform: translateY(20px);
}

.page-leave-to {
  opacity: 0;
  transform: translateY(-20px);
}

.card-hover {
  @apply transition-all duration-300 ease-out hover:shadow-2xl hover:-translate-y-2;
}

.btn-press {
  @apply transition-transform duration-150 active:scale-95;
}
```

## Testing Excellence 🧪

### Backend Testing (Django)
```python
from rest_framework.test import APITestCase

class MenuItemAPITestCase(APITestCase):
    def setUp(self):
        self.cafe_owner = User.objects.create_user(
            email='owner@example.com',
            password='testpass123',
            role='owner'
        )
        self.cafe = Cafe.objects.create(name='Test Cafe', owner=self.cafe_owner)
        self.client.force_authenticate(user=self.cafe_owner)
    
    def test_create_menu_item_success(self):
        data = {
            'name': 'Kenyan AA Coffee',
            'description': 'Premium coffee from Nyeri',
            'price': 350,
            'category': self.category.id,
            'prep_time': 5
        }
        
        response = self.client.post('/api/menu-items/', data, format='json')
        
        self.assertEqual(response.status_code, 201)
        self.assertTrue(response.data['success'])
```

### Frontend Testing (Nuxt + TypeScript)
```typescript
// tests/components/MenuItem.spec.ts
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import MenuItem from '~/components/menu/MenuItem.vue'

describe('MenuItem Component', () => {
  it('renders menu item correctly', () => {
    const wrapper = mount(MenuItem, {
      props: {
        item: {
          id: '1',
          name: 'Kenyan AA Coffee',
          price: 350,
          // ... other props
        }
      }
    })

    expect(wrapper.text()).toContain('Kenyan AA Coffee')
    expect(wrapper.text()).toContain('350')
  })
})
```

## AI Collaboration Guidelines 🤖

### When Requesting Help
1. **Context First**: "I'm working on [feature] for JamboBites"
2. **Specify Platform**: "This is for the Nuxt frontend" or "Django backend"
3. **Beauty Requirements**: "This needs smooth animations and mobile-first design"
4. **Reference Standards**: "Following our DaisyUI design system"

### Code Generation Requests
- Always specify beauty/UX requirements
- Request TypeScript implementations for frontend
- Ask for proper error handling and loading states
- Include accessibility considerations
- Request performance optimizations
- Ask for comprehensive tests

### Review Requests
- "Review this component for accessibility"
- "Optimize this API endpoint for performance"
- "Improve the UX of this user flow"
- "Ensure this follows our design system"
- "Check this follows Kenyan localization standards"

## Environment Configuration

### Development
```bash
# Backend (.env)
DEBUG=True
DATABASE_URL=postgresql://localhost:5432/jambobites_dev
REDIS_URL=redis://localhost:6379
MPESA_ENVIRONMENT=sandbox

# Frontend (.env)
NUXT_API_BASE_URL=http://localhost:8000/api
NUXT_PUBLIC_APP_NAME=JamboBites
```

### Production
```bash
# Backend
DEBUG=False
DATABASE_URL=postgresql://prod-server/jambobites
REDIS_URL=redis://prod-redis:6379
MPESA_ENVIRONMENT=production
CDN_URL=https://cdn.jambobites.co.ke

# Frontend
NUXT_API_BASE_URL=https://api.jambobites.co.ke
```

## Launch Checklist ✅

### Pre-Launch Beauty Audit
- [ ] Performance: Core Web Vitals > 90
- [ ] Accessibility: WCAG 2.1 AA compliance
- [ ] Mobile: Perfect mobile experience
- [ ] Cross-browser: Works everywhere
- [ ] Loading states: Smooth experiences
- [ ] Error states: Helpful messages
- [ ] Empty states: Engaging designs
- [ ] Animations: Smooth and purposeful
- [ ] Typography: Perfect text rendering
- [ ] Images: Optimized and responsive

### Technical Excellence
- [ ] Security: Penetration testing completed
- [ ] Performance: Load testing passed
- [ ] Monitoring: Full observability setup
- [ ] Backups: Automated backup strategy
- [ ] CI/CD: Deployment pipeline tested
- [ ] Documentation: Complete API docs
- [ ] Tests: 80%+ coverage

## Success Metrics 📊

### Beauty Metrics
- User Delight Score (NPS > 70)
- Conversion Rate (Order completion > 85%)
- Performance Score (Core Web Vitals > 90)
- Accessibility Score (Lighthouse > 95)
- User Retention (Monthly growth)

### Business Metrics
- Daily orders processed
- Monthly revenue growth
- Cafes onboarded
- Customer satisfaction (> 4.5 rating)
- Technical uptime (99.9%)

---

**Remember**: Every pixel matters, every interaction should delight, and every line of code should contribute to making JamboBites the most beautiful cafe experience in Kenya! ✨🇰🇪

*"Beauty is not just what looks good. Beauty is about creating experiences that make people feel good."* - JamboBites Team
